<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>existing_stock Table: Data Lineage & Assumptions</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .header h1 {
            font-size: 2.8em;
            margin-bottom: 15px;
        }
        
        .header .subtitle {
            font-size: 1.3em;
            opacity: 0.9;
        }
        
        .breadcrumb {
            background: #e9ecef;
            padding: 15px 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            font-size: 0.95em;
        }
        
        .breadcrumb a {
            color: #667eea;
            text-decoration: none;
            font-weight: 500;
        }
        
        .breadcrumb a:hover {
            text-decoration: underline;
        }
        
        .output-preview {
            background: white;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 40px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border-left: 6px solid #28a745;
        }
        
        .output-preview h2 {
            color: #28a745;
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        
        .data-table {
            overflow-x: auto;
            margin: 20px 0;
        }
        
        .data-table table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9em;
        }
        
        .data-table th {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 12px 8px;
            text-align: left;
            font-weight: 600;
            color: #495057;
        }
        
        .data-table td {
            border: 1px solid #dee2e6;
            padding: 10px 8px;
            vertical-align: top;
        }
        
        .data-table tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        .step-container {
            margin-bottom: 40px;
        }
        
        .step {
            background: white;
            border-radius: 12px;
            margin-bottom: 30px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border-left: 6px solid #667eea;
        }
        
        .step-header {
            background: linear-gradient(90deg, #667eea, #764ba2);
            color: white;
            padding: 25px 30px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .step-header h3 {
            font-size: 1.4em;
            margin: 0;
        }
        
        .step-toggle {
            font-size: 1.5em;
            transition: transform 0.3s ease;
        }
        
        .step-content {
            padding: 30px;
            display: block;
        }
        
        .step-content.collapsed {
            display: none;
        }
        
        .source-info {
            background: #e3f2fd;
            border: 1px solid #bbdefb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .source-info h4 {
            color: #1976d2;
            margin-bottom: 10px;
        }
        
        .assumption {
            background: #fff3e0;
            border: 1px solid #ffcc02;
            border-left: 5px solid #ff9800;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .assumption .icon {
            color: #ff9800;
            font-weight: bold;
        }
        
        .transformation-arrow {
            text-align: center;
            margin: 20px 0;
            font-size: 1.5em;
            color: #667eea;
        }
        
        .sample-data {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .sample-data h4 {
            margin-bottom: 15px;
            color: #495057;
        }
        
        .code-snippet {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            overflow-x: auto;
            margin: 15px 0;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }
        
        .stat-label {
            color: #6c757d;
            margin-top: 5px;
        }
        
        .flow-diagram {
            background: white;
            padding: 30px;
            border-radius: 12px;
            margin: 30px 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
        }
        
        .nav-button {
            background: #667eea;
            color: white;
            padding: 15px 25px;
            border: none;
            border-radius: 8px;
            text-decoration: none;
            font-size: 1em;
            transition: background 0.3s ease;
        }
        
        .nav-button:hover {
            background: #5a6fd8;
        }
        
        .highlight {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 4px;
            padding: 2px 6px;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="breadcrumb">
            <a href="../index.html">üìö Documentation Home</a> ‚Üí 
            <a href="index.html">üìä Data Lineage</a> ‚Üí 
            existing_stock Table
        </div>
        
        <div class="header">
            <h1>üìã existing_stock Table</h1>
            <div class="subtitle">Complete Data Lineage: From Global Datasets to Country-Specific Power Plant Inventory</div>
        </div>
        
        <div class="output-preview">
            <h2>üéØ Final Output: What You See in Excel</h2>
            <p>The <code>existing_stock</code> sheet in <strong>VerveStacks_CHE.xlsx</strong> contains the complete power plant inventory for Switzerland, ready for VEDA/TIMES modeling.</p>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">156</div>
                    <div class="stat-label">Total Plants</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">12.4</div>
                    <div class="stat-label">GW Capacity</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">8</div>
                    <div class="stat-label">Fuel Types</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">3</div>
                    <div class="stat-label">Data Sources</div>
                </div>
            </div>
            
            <div class="sample-data">
                <h4>üìä Sample Output Data (CHE)</h4>
                <div class="data-table">
                    <table>
                        <tr>
                            <th>Plant Name</th>
                            <th>model_fuel</th>
                            <th>Capacity (MW)</th>
                            <th>Start year</th>
                            <th>comm-out</th>
                            <th>Data Source</th>
                        </tr>
                        <tr>
                            <td>Beznau-1</td>
                            <td>nuclear</td>
                            <td>365.0</td>
                            <td>1969</td>
                            <td>ELC</td>
                            <td>GEM</td>
                        </tr>
                        <tr>
                            <td>G√∂sgen</td>
                            <td>nuclear</td>
                            <td>1060.0</td>
                            <td>1979</td>
                            <td>ELC</td>
                            <td>GEM</td>
                        </tr>
                        <tr>
                            <td>Aggregated Plant - IRENA Gap - CHE_0007</td>
                            <td>solar</td>
                            <td>193.2</td>
                            <td>2022</td>
                            <td>elc_spv-CHE_0007</td>
                            <td>IRENA</td>
                        </tr>
                        <tr>
                            <td>Aggregated Plant - EMBER Gap - CH49-225</td>
                            <td>gas</td>
                            <td>21.0</td>
                            <td>2022</td>
                            <td>e_w123</td>
                            <td>EMBER</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
        
        <div class="flow-diagram">
            <h2>üîÑ Complete Data Transformation Pipeline</h2>
            <svg width="100%" height="400" viewBox="0 0 1200 400">
                <!-- Sources -->
                <rect x="50" y="50" width="120" height="80" fill="#e3f2fd" stroke="#1976d2" rx="5"/>
                <text x="110" y="85" text-anchor="middle" font-size="12" font-weight="bold">GEM Database</text>
                <text x="110" y="105" text-anchor="middle" font-size="10">151,000+ plants</text>
                
                <rect x="50" y="150" width="120" height="80" fill="#e8f5e8" stroke="#4caf50" rx="5"/>
                <text x="110" y="185" text-anchor="middle" font-size="12" font-weight="bold">IRENA Stats</text>
                <text x="110" y="205" text-anchor="middle" font-size="10">Renewable capacity</text>
                
                <rect x="50" y="250" width="120" height="80" fill="#fff3e0" stroke="#ff9800" rx="5"/>
                <text x="110" y="285" text-anchor="middle" font-size="12" font-weight="bold">EMBER Data</text>
                <text x="110" y="305" text-anchor="middle" font-size="10">Thermal capacity</text>
                
                <!-- Processing -->
                <rect x="300" y="150" width="200" height="100" fill="#f3e5f5" stroke="#9c27b0" rx="5"/>
                <text x="400" y="185" text-anchor="middle" font-size="14" font-weight="bold">Data Processing</text>
                <text x="400" y="205" text-anchor="middle" font-size="10">‚Ä¢ Country filtering</text>
                <text x="400" y="220" text-anchor="middle" font-size="10">‚Ä¢ Gap calculation</text>
                <text x="400" y="235" text-anchor="middle" font-size="10">‚Ä¢ Spatial distribution</text>
                
                <!-- Outputs -->
                <rect x="650" y="100" width="150" height="60" fill="#e1f5fe" stroke="#03a9f4" rx="5"/>
                <text x="725" y="125" text-anchor="middle" font-size="12" font-weight="bold">GEM Plants</text>
                <text x="725" y="145" text-anchor="middle" font-size="10">Existing facilities</text>
                
                <rect x="650" y="170" width="150" height="60" fill="#e8f5e8" stroke="#4caf50" rx="5"/>
                <text x="725" y="195" text-anchor="middle" font-size="12" font-weight="bold">IRENA Gap</text>
                <text x="725" y="215" text-anchor="middle" font-size="10">Missing renewables</text>
                
                <rect x="650" y="240" width="150" height="60" fill="#fff3e0" stroke="#ff9800" rx="5"/>
                <text x="725" y="265" text-anchor="middle" font-size="12" font-weight="bold">EMBER Gap</text>
                <text x="725" y="285" text-anchor="middle" font-size="10">Missing thermal</text>
                
                <!-- Final output -->
                <rect x="950" y="150" width="180" height="100" fill="#e8eaf6" stroke="#3f51b5" rx="5"/>
                <text x="1040" y="185" text-anchor="middle" font-size="14" font-weight="bold">existing_stock.xlsx</text>
                <text x="1040" y="205" text-anchor="middle" font-size="10">Complete inventory</text>
                <text x="1040" y="220" text-anchor="middle" font-size="10">Spatial commodities</text>
                <text x="1040" y="235" text-anchor="middle" font-size="10">Ready for VEDA</text>
                
                <!-- Arrows -->
                <defs>
                    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
                    </marker>
                </defs>
                
                <path d="M 170 90 L 290 180" fill="none" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
                <path d="M 170 190 L 290 195" fill="none" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
                <path d="M 170 290 L 290 220" fill="none" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
                
                <path d="M 500 170 L 640 130" fill="none" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
                <path d="M 500 195 L 640 200" fill="none" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
                <path d="M 500 220 L 640 270" fill="none" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
                
                <path d="M 800 130 L 940 180" fill="none" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
                <path d="M 800 200 L 940 195" fill="none" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
                <path d="M 800 270 L 940 220" fill="none" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
            </svg>
        </div>
        
        <div class="step-container">
            <h2 style="color: #667eea; margin-bottom: 30px; font-size: 2em;">üìä Detailed Transformation Steps</h2>
            
            <div class="step">
                <div class="step-header" onclick="toggleStep(this)">
                    <h3>Step 1: GEM Plant Database Filtering</h3>
                    <span class="step-toggle">‚ñº</span>
                </div>
                <div class="step-content">
                    <div class="source-info">
                        <h4>üìÅ Source File</h4>
                        <p><strong>File:</strong> <code>data/existing_stock/Global-Integrated-Power-April-2025.xlsx</code></p>
                        <p><strong>Sheet:</strong> "Power facilities"</p>
                        <p><strong>Size:</strong> 151,000+ power plants globally</p>
                        <p><strong>Update Frequency:</strong> Monthly from Global Energy Monitor</p>
                    </div>
                    
                    <div class="assumption">
                        <span class="icon">üéõÔ∏è</span> <strong>Filtering Assumptions:</strong><br>
                        ‚Ä¢ Status NOT in ['cancelled', 'shelved', 'retired']<br>
                        ‚Ä¢ Country/area = 'Switzerland'<br>
                        ‚Ä¢ Capacity > 0 MW
                    </div>
                    
                    <div class="sample-data">
                        <h4>üìä Sample GEM Data (Switzerland)</h4>
                        <div class="data-table">
                            <table>
                                <tr>
                                    <th>Plant Name</th>
                                    <th>Type</th>
                                    <th>Technology</th>
                                    <th>Capacity (MW)</th>
                                    <th>Status</th>
                                    <th>Start year</th>
                                </tr>
                                <tr>
                                    <td>Beznau-1</td>
                                    <td>nuclear</td>
                                    <td>pwr</td>
                                    <td>365.0</td>
                                    <td>operating</td>
                                    <td>1969</td>
                                </tr>
                                <tr>
                                    <td>Leibstadt</td>
                                    <td>nuclear</td>
                                    <td>bwr</td>
                                    <td>1275.0</td>
                                    <td>operating</td>
                                    <td>1984</td>
                                </tr>
                                <tr>
                                    <td>Aigle Hydro</td>
                                    <td>hydro</td>
                                    <td>run-of-river</td>
                                    <td>15.0</td>
                                    <td>operating</td>
                                    <td>1965</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    
                    <div class="transformation-arrow">‚¨áÔ∏è Technology Mapping Applied</div>
                    
                    <div class="code-snippet">
# Technology mapping from VS_mappings.xlsx
df_gem_map = {
    'nuclear': {'model_fuel': 'nuclear', 'model_name': 'ENUC'},
    'hydro': {'model_fuel': 'hydro', 'model_name': 'EHYD'},
    'gas': {'model_fuel': 'gas', 'model_name': 'EGAS'}
}
                    </div>
                    
                    <div class="assumption">
                        <span class="icon">üéõÔ∏è</span> <strong>Result:</strong> 151 plants ‚Üí 132 operating plants in Switzerland after filtering
                    </div>
                </div>
            </div>
            
            <div class="step">
                <div class="step-header" onclick="toggleStep(this)">
                    <h3>Step 2: IRENA Gap Analysis & Distribution</h3>
                    <span class="step-toggle">‚ñº</span>
                </div>
                <div class="step-content">
                    <div class="source-info">
                        <h4>üìÅ Source File</h4>
                        <p><strong>File:</strong> <code>data/irena/IRENASTAT-C.xlsx</code></p>
                        <p><strong>Data:</strong> Renewable capacity statistics by country/technology</p>
                        <p><strong>Reference Year:</strong> 2022</p>
                    </div>
                    
                    <div class="assumption">
                        <span class="icon">üéõÔ∏è</span> <strong>Gap Calculation Logic:</strong><br>
                        Gap = IRENA 2022 capacity - GEM cumulative capacity (‚â§2022)<br>
                        If Gap > 0 ‚Üí Create missing capacity records
                    </div>
                    
                    <div class="sample-data">
                        <h4>üìä IRENA vs GEM Comparison (Switzerland 2022)</h4>
                        <div class="data-table">
                            <table>
                                <tr>
                                    <th>Fuel Type</th>
                                    <th>IRENA 2022 (GW)</th>
                                    <th>GEM ‚â§2022 (GW)</th>
                                    <th>Gap (GW)</th>
                                    <th>Action</th>
                                </tr>
                                <tr>
                                    <td>Solar</td>
                                    <td class="highlight">4.53</td>
                                    <td>0.10</td>
                                    <td class="highlight">4.43</td>
                                    <td>Add missing capacity</td>
                                </tr>
                                <tr>
                                    <td>Wind</td>
                                    <td class="highlight">0.09</td>
                                    <td>0.04</td>
                                    <td class="highlight">0.05</td>
                                    <td>Add missing capacity</td>
                                </tr>
                                <tr>
                                    <td>Hydro</td>
                                    <td class="highlight">16.57</td>
                                    <td>13.39</td>
                                    <td class="highlight">3.18</td>
                                    <td>Add missing capacity</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    
                    <div class="assumption">
                        <span class="icon">üéõÔ∏è</span> <strong>Spatial Distribution (when --grid-modeling enabled):</strong><br>
                        ‚Ä¢ <strong>Solar/Wind:</strong> Distributed across REZ zones by resource quality<br>
                        ‚Ä¢ <strong>Hydro:</strong> Distributed to existing hydro plant bus locations<br>
                        ‚Ä¢ <strong>Threshold:</strong> Minimum 10 MW per location
                    </div>
                    
                    <div class="sample-data">
                        <h4>üìä Sample Spatial Distribution Output</h4>
                        <div class="data-table">
                            <table>
                                <tr>
                                    <th>Plant Name</th>
                                    <th>Fuel</th>
                                    <th>Capacity (MW)</th>
                                    <th>Location</th>
                                    <th>comm-out</th>
                                </tr>
                                <tr>
                                    <td>IRENA Gap - CHE_0007</td>
                                    <td>solar</td>
                                    <td>193.2</td>
                                    <td>CHE_0007</td>
                                    <td>elc_spv-CHE_0007</td>
                                </tr>
                                <tr>
                                    <td>IRENA Gap - CHE_0012</td>
                                    <td>solar</td>
                                    <td>136.8</td>
                                    <td>CHE_0012</td>
                                    <td>elc_spv-CHE_0012</td>
                                </tr>
                                <tr>
                                    <td>IRENA Gap - CH18-220</td>
                                    <td>hydro</td>
                                    <td>391.2</td>
                                    <td>CH18-220</td>
                                    <td>e_w123</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="step">
                <div class="step-header" onclick="toggleStep(this)">
                    <h3>Step 3: EMBER Gap Analysis & Thermal Distribution</h3>
                    <span class="step-toggle">‚ñº</span>
                </div>
                <div class="step-content">
                    <div class="source-info">
                        <h4>üìÅ Source File</h4>
                        <p><strong>File:</strong> <code>data/ember/yearly_electricity_data.csv</code></p>
                        <p><strong>Data:</strong> Thermal capacity by country/fuel type</p>
                        <p><strong>Reference Year:</strong> 2022</p>
                    </div>
                    
                    <div class="assumption">
                        <span class="icon">üéõÔ∏è</span> <strong>Thermal Distribution Logic (when --grid-modeling enabled):</strong><br>
                        1. <strong>Primary:</strong> Distribute to existing plants of same fuel type<br>
                        2. <strong>Fallback:</strong> Voltage-based distribution (380kV > 220kV > 110kV)<br>
                        3. <strong>Threshold:</strong> 10 MW minimum, residual goes to largest bus
                    </div>
                    
                    <div class="sample-data">
                        <h4>üìä EMBER Gap Analysis (Switzerland)</h4>
                        <div class="data-table">
                            <table>
                                <tr>
                                    <th>Fuel Type</th>
                                    <th>EMBER 2022 (GW)</th>
                                    <th>GEM ‚â§2022 (GW)</th>
                                    <th>Gap (GW)</th>
                                    <th>Distribution Strategy</th>
                                </tr>
                                <tr>
                                    <td>Gas</td>
                                    <td>0.23</td>
                                    <td>0.10</td>
                                    <td class="highlight">0.13</td>
                                    <td>Existing gas plant locations</td>
                                </tr>
                                <tr>
                                    <td>Bioenergy</td>
                                    <td>0.23</td>
                                    <td>0.00</td>
                                    <td class="highlight">0.23</td>
                                    <td>Voltage-based fallback</td>
                                </tr>
                                <tr>
                                    <td>Coal</td>
                                    <td>0.00</td>
                                    <td>0.00</td>
                                    <td>0.00</td>
                                    <td>No gap</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    
                    <div class="code-snippet">
# Example: Gas distribution to existing gas plants
existing_gas_plants = df_plants[
    (df_plants['model_fuel'] == 'gas') & 
    (df_plants['bus_id'].notna())
]
weights = existing_gas_plants.groupby('bus_id')['Capacity (MW)'].sum()
normalized_weights = weights / weights.sum()
                    </div>
                </div>
            </div>
            
            <div class="step">
                <div class="step-header" onclick="toggleStep(this)">
                    <h3>Step 4: Single-Pass Commodity Assignment</h3>
                    <span class="step-toggle">‚ñº</span>
                </div>
                <div class="step-content">
                    <div class="assumption">
                        <span class="icon">üéõÔ∏è</span> <strong>Commodity Assignment Rules:</strong><br>
                        <strong>Grid Modeling ON:</strong><br>
                        ‚Ä¢ Solar/Wind plants ‚Üí grid_cell commodities (e.g., elc_spv-CHE_0007)<br>
                        ‚Ä¢ Other plants ‚Üí bus_id commodities (e.g., e_w123)<br>
                        <br>
                        <strong>Grid Modeling OFF:</strong><br>
                        ‚Ä¢ Solar ‚Üí elc_sol-CHE<br>
                        ‚Ä¢ Wind ‚Üí elc_win-CHE<br>
                        ‚Ä¢ All others ‚Üí ELC
                    </div>
                    
                    <div class="sample-data">
                        <h4>üìä Final Commodity Assignment Examples</h4>
                        <div class="data-table">
                            <table>
                                <tr>
                                    <th>Plant</th>
                                    <th>Fuel</th>
                                    <th>Grid Modeling ON</th>
                                    <th>Grid Modeling OFF</th>
                                </tr>
                                <tr>
                                    <td>Solar REZ CHE_0007</td>
                                    <td>solar</td>
                                    <td class="highlight">elc_spv-CHE_0007</td>
                                    <td>elc_sol-CHE</td>
                                </tr>
                                <tr>
                                    <td>Wind REZ CHE_0012</td>
                                    <td>wind</td>
                                    <td class="highlight">elc_won-CHE_0012</td>
                                    <td>elc_win-CHE</td>
                                </tr>
                                <tr>
                                    <td>Gas at CH49-225</td>
                                    <td>gas</td>
                                    <td class="highlight">e_w123</td>
                                    <td>ELC</td>
                                </tr>
                                <tr>
                                    <td>Nuclear Beznau</td>
                                    <td>nuclear</td>
                                    <td>ELC</td>
                                    <td>ELC</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="nav-buttons">
            <a href="../index.html" class="nav-button">‚Üê Back to Documentation</a>
            <a href="solar_profiles_lineage.html" class="nav-button">Next: Solar Profiles ‚Üí</a>
        </div>
    </div>
    
    <script>
        function toggleStep(header) {
            const content = header.nextElementSibling;
            const toggle = header.querySelector('.step-toggle');
            
            if (content.classList.contains('collapsed')) {
                content.classList.remove('collapsed');
                toggle.textContent = '‚ñº';
            } else {
                content.classList.add('collapsed');
                toggle.textContent = '‚ñ∂';
            }
        }
        
        // Initialize all steps as expanded
        document.addEventListener('DOMContentLoaded', function() {
            // Steps start expanded by default
        });
    </script>
</body>
</html>
